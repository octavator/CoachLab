import Navbar from"./navbar.js";import Flash from"./flash.js";import{TextInput,Button}from"./forms/inputs.js";class NewPassword extends React.Component{constructor(props){super(props);this.state={showFlash:false,flashType:"",flashMessage:"",email:""}}showFlashMessage(type,message){this.setState({showFlash:true,flashMessage:message,flashType:type},()=>{setTimeout(()=>{this.setState({showFlash:false})},5000)})}sendForm(){http.get(`/api/send_password_reset?mail=${encodeURIComponent(this.state.email)}`).then(res=>{this.showFlashMessage("success","Un email vous a \xE9t\xE9 envoy\xE9.")}).catch(err=>{this.showFlashMessage("error","Une erreur inattendue est survenue")})}render(){return/*#__PURE__*/React.createElement("div",null,/*#__PURE__*/React.createElement(Navbar,{user:{},blue_bg:true}),/*#__PURE__*/React.createElement(Flash,{showFlash:this.state.showFlash,flashType:this.state.flashType,flashMessage:this.state.flashMessage}),/*#__PURE__*/React.createElement("div",{className:"infos-wrapper flex flex-center flex-column mt-2"},/*#__PURE__*/React.createElement("h1",{className:"page-title"},"R\xE9initialisez votre mot de passe"),/*#__PURE__*/React.createElement(TextInput,{type:"email",extraClass:"text-3 white-bg",required:true,value:this.state.email,onChange:e=>{this.setState({email:e})},placeholder:"coach@gmail.com",name:"email",bold_label:true,label:"Votre email"}),/*#__PURE__*/React.createElement(Button,{extraClass:"text-3 white-bg mt-2",onClick:()=>{this.sendForm()},text:"Envoyer"})))}}const domContainer=document.querySelector(".new-password");ReactDOM.render(/*#__PURE__*/React.createElement(NewPassword,null),domContainer);