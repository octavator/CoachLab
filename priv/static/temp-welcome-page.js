import Navbar from"./components/navbar.js";import Flash from"./components/flash.js";import{TextInput,Button}from"./components/forms/inputs.js";class TempWelcomePage extends React.Component{constructor(props){super(props);this.state={user:{},inviteMail:"",flashMessage:"",flashType:"",showFlash:false}}componentDidMount(){http.get("/api/me").then(res=>{this.setState({user:res.data})}).catch(err=>{this.showFlashMessage("error",err?.response?.data||"Une erreur inattendue est survenue.")})}sendInviteMail(){if(this.state.inviteMail=="")return;http.post("/signup-invite",{email:this.state.inviteMail}).then(res=>{if(res.status==200){this.showFlashMessage("success","L'invitation a \xE9t\xE9 envoy\xE9e avec succ\xE8s");this.setState({inviteMail:""})}else this.showFlashMessage("error","Une erreur est survenue lors de l'envoi.")}).catch(err=>{this.showFlashMessage("error",err?.response?.data||"Une erreur inattendue est survenue.")})}showFlashMessage(type,message){this.setState({showFlash:true,flashMessage:message,flashType:type},()=>{setTimeout(()=>{this.setState({showFlash:false})},5000)})}render(){return/*#__PURE__*/React.createElement("div",{className:"login-wrapper"},/*#__PURE__*/React.createElement(Navbar,{user:this.state.user}),/*#__PURE__*/React.createElement(Flash,{showFlash:this.state.showFlash,flashType:this.state.flashType,flashMessage:this.state.flashMessage}),/*#__PURE__*/React.createElement("h1",{className:"page-title welcome-page-title text-1"},"Vous \xEAtes bien inscrit sur CoachLab !"),/*#__PURE__*/React.createElement("div",{className:"welcome-page-content text-2"},"Votre inscription a bien \xE9t\xE9 prise en compte. ",/*#__PURE__*/React.createElement("br",null),/*#__PURE__*/React.createElement("br",null),"Vous serez pr\xE9venu par mail d\xE8s que la plateforme ouvrira officiellement ses portes.",/*#__PURE__*/React.createElement("br",null),/*#__PURE__*/React.createElement("br",null),"Merci pour votre int\xE9r\xEAt et \xE0 tr\xE8s bient\xF4t sur CoachLab !"),/*#__PURE__*/React.createElement("div",{className:`invite-mail-block ${this.state.user.role=="coach"?``:" hidden"}`},/*#__PURE__*/React.createElement(TextInput,{type:"email",extraClass:"text-3 white-bg",required:true,value:this.state.inviteMail,onChange:e=>{this.setState({inviteMail:e})},name:"invite_mail",placeholder:"Invitez votre coach\xE9"}),/*#__PURE__*/React.createElement(Button,{extraClass:"text-3",onClick:()=>{this.sendInviteMail()},text:"Suivant"})))}}const domContainer=document.querySelector(".temp-welcome-page-wrapper");ReactDOM.render(/*#__PURE__*/React.createElement(TempWelcomePage,null),domContainer);