import{TextInput}from"./components/forms/inputs.js";import Navbar from"./navbar.js";import Flash from"./flash.js";class SignUp extends React.Component{constructor(props){super(props);this.state={form:{email:"",password:"",firstname:"",lastname:""},flashMessage:"",flashType:"",showFlash:false}}sendForm(){http.post("/sign-up",this.state.form).then(res=>{console.log(res.status);console.log(res.data);window.location.href="/connexion"}).catch(err=>{console.log(err.response);this.showFlashMessage("error",err?.response?.data||"Une erreur inattendue est survenue.")})}showFlashMessage(type,message){this.setState({showFlash:true,flashMessage:message,flashType:type},()=>{setTimeout(()=>{this.setState({showFlash:false})},5000)})}render(){return/*#__PURE__*/React.createElement("div",null,/*#__PURE__*/React.createElement(Navbar,{user:{}}),/*#__PURE__*/React.createElement(Flash,{showFlash:this.state.showFlash,flashType:this.state.flashType,flashMessage:this.state.flashMessage}),/*#__PURE__*/React.createElement("h1",{className:"page-title"},"Inscrivez-vous"),/*#__PURE__*/React.createElement("div",{className:"login-content-wrapper infos-form"},/*#__PURE__*/React.createElement("div",{className:"input-group"},/*#__PURE__*/React.createElement("label",{className:"input-label"},"Adresse mail"),/*#__PURE__*/React.createElement("input",{onChange:e=>{this.setState({form:{...this.state.form,email:e.target.value}})},value:this.state.form.email,type:"email"})),/*#__PURE__*/React.createElement("div",{className:"input-group"},/*#__PURE__*/React.createElement("label",{className:"input-label"},"Mot de passe"),/*#__PURE__*/React.createElement("input",{onChange:e=>{this.setState({form:{...this.state.form,password:e.target.value}})},value:this.state.form.password,type:"password"})),/*#__PURE__*/React.createElement(TextInput,{value:this.state.form.firstname,onChange:e=>{this.setState({form:{...this.state.form,firstname:e.target.value}})},label:"Pr\xE9nom"}),/*#__PURE__*/React.createElement(TextInput,{value:this.state.form.lastname,onChange:e=>{this.setState({form:{...this.state.form,lastname:e.target.value}})},label:"Nom"}),/*#__PURE__*/React.createElement("div",{className:"input-group"},/*#__PURE__*/React.createElement("div",{className:"button-group"},/*#__PURE__*/React.createElement("button",{onClick:()=>{this.sendForm()},className:"cl-button"},"Valider")))))}}const domContainer=document.querySelector(".signup-wrapper");ReactDOM.render(/*#__PURE__*/React.createElement(SignUp,null),domContainer);